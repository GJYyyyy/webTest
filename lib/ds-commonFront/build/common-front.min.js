function validateGrid(e){if(e.validate(),0==e.isValid()){var t=e.getCellErrors()[0];return mini.alert(t.errorText,"提示信息",function(){e.beginEditCell(t.record,t.column)}),!1}return!0}"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,r,o,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,i=0;i<o;i+=1)a[i]=str(i,l)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;i<o;i+=1)"string"==typeof rep[i]&&(n=rep[i],r=str(n,l),r&&a.push(quote(n)+(gap?": ":":")+r));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r=str(n,l),r&&a.push(quote(n)+(gap?": ":":")+r));return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var i,n,r=e[t];if(r&&"object"==typeof r)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=walk(r,i),void 0!==n?r[i]=n:delete r[i]);return reviver.call(e,t,r)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.store=t()}(this,function(){function e(){try{return s in o&&o[s]}catch(e){return!1}}function t(){try{return l in o&&o[l]}catch(e){return!1}}var i,n,r={},o="undefined"!=typeof window?window:global,a=o.document,s="localStorage",l="sessionStorage",u="script";if(r.disabled=!1,r.setLocal=function(e,t){},r.getLocal=function(e,t){},r.hasLocal=function(e){return void 0!==r.getLocal(e)},r.removeLocal=function(e){},r.clearLocal=function(){},r.getAllLocal=function(){},r.eachLocal=function(){},r.setSession=function(e,t){},r.getSession=function(e,t){},r.hasSession=function(e){return void 0!==r.getSession(e)},r.removeSession=function(e){},r.clearSession=function(){},r.getAllSession=function(){},r.eachSession=function(){},r.serialize=function(e){return JSON.stringify(e)},r.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},r.getCookie=function(e){return $.cookie.json=!0,$.cookie(e)},r.hasCookie=function(e){return $.cookie.json=!0,!!$.cookie(e)},r.setCookie=function(e,t,i,n){$.cookie.json=!0,void 0!==i&&void 0!==n?$.cookie(e,t,{expires:i,path:n}):void 0!==i&&void 0===n?$.cookie(e,t,{expires:i}):void 0===i&&void 0===n&&$.cookie(e,t)},r.getAllCookie=function(){return $.cookie()},r.removeCookie=function(e,t){var i;i=t?$.removeCookie(e,{path:t}):$.removeCookie(e),i||console.log("删除cookie"+e+"失败")},t()&&(n=o[l],r.setSession=function(e,t){return void 0===t?r.removeSession(e):(n.setItem(e,r.serialize(t)),t)},r.getSession=function(e,t){var i=r.deserialize(n.getItem(e));return void 0===i?t:i},r.removeSession=function(e){n.removeItem(e)},r.clearSession=function(){n.clear()},r.getAllSession=function(){var e={};return r.eachSession(function(t,i){e[t]=i}),e},r.eachSession=function(e){for(var t=0;t<n.length;t++){var i=n.key(t);e(i,r.getSession(i))}}),e())i=o[s],r.setLocal=function(e,t){return void 0===t?r.removeLocal(e):(i.setItem(e,r.serialize(t)),t)},r.getLocal=function(e,t){var n=r.deserialize(i.getItem(e));return void 0===n?t:n},r.removeLocal=function(e){i.removeItem(e)},r.clearLocal=function(){i.clear()},r.getAllLocal=function(){var e={};return r.eachLocal(function(t,i){e[t]=i}),e},r.eachLocal=function(e){for(var t=0;t<i.length;t++){var n=i.key(t);e(n,r.getLocal(n))}};else if(a&&a.documentElement.addBehavior){var c,d;try{d=new ActiveXObject("htmlfile"),d.open(),d.write("<"+u+">document.w=window</"+u+'><iframe src="/favicon.ico"></iframe>'),d.close(),c=d.w.frames[0].document,i=c.createElement("div")}catch(p){i=a.createElement("div"),c=a.body}var m=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(i),c.appendChild(i),i.addBehavior("#default#userData"),i.load(s);var n=e.apply(r,t);return c.removeChild(i),n}},f=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),h=function(e){return e.replace(/^d/,"___$&").replace(f,"___")};r.setLocal=m(function(e,t,i){return t=h(t),void 0===i?r.remove(t):(e.setAttribute(t,r.serialize(i)),e.save(s),i)}),r.getLocal=m(function(e,t,i){t=h(t);var n=r.deserialize(e.getAttribute(t));return void 0===n?i:n}),r.removeLocal=m(function(e,t){t=h(t),e.removeAttribute(t),e.save(s)}),r.clearLocal=m(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(s);for(var i=t.length-1;i>=0;i--)e.removeAttribute(t[i].name);e.save(s)}),r.getAllLocal=function(e){var t={};return r.eachLocal(function(e,i){t[e]=i}),t},r.eachLocal=m(function(e,t){for(var i,n=e.XMLDocument.documentElement.attributes,o=0;i=n[o];++o)t(i.name,r.deserialize(e.getAttribute(i.name)))})}try{var g="__storejs__";r.set(g,g),r.get(g)!=g&&(r.disabled=!0),r.remove(g)}catch(p){r.disabled=!0}return r.enabled=!r.disabled,r}),!function(e){function t(){}var i,n,r=/^[0-9]+$/,o=/^\-?[0-9]+$/,a=/^\-?[0-9]*\.?[0-9]+$/,s=/^[a-zA-Z0-9]{8,16}$/,l=/^[a-zA-Z0-9\-]{15,20}$/,u=/^[0-9]{6}$/,c=/^([0-9A-Za-z]|[-]){0,20}$/,d=/^[A-Z0-9]{9}$/,p=/^(([-]?[0-9]{1,14}[.]{1}[0-9]{1,2})$|([-]?[0-9]{1,14})$)/,m=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,f=/^[a-z]+$/i,h=/^[a-z0-9]+$/i,g=/^[a-z0-9_\-]+$/i,y=/^[0-9]+$/i,v=/^[\u4e00-\u9fa5]+$/,b=/^1[3456789]\d{9}$/,x=/^(0\d{2,3}-){0,1}\d{7,8}$/,w=/^[\u4e00-\u9fa5a-zA-Z0-9_\(\)$#@!\-]+$/,_=/^(?=.*?[a-zA-Z])(?=.*?[0-9])[a-zA-Z0-9]/,T=/^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,O=/(?:\d.*_)|(?:_.*\d)|(?:[A-Za-z].*_)|(?:_.*[A-Za-z])|(?:[A-Za-z].*\d)|(?:\d.*[A-Za-z])/,M=function(e){e=C(e);var t=e.length;if("18"==t){var i,n,r=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),o=new Array("1","0","X","9","8","7","6","5","4","3","2"),a=0;for(i=0;i<17;i++)a+=e.substr(i,1)*r[i];return n=o[a%11],n==e.substr(17,1)}return!1},C=function(e){if("15"==e.length){var t,i=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),n=new Array("1","0","X","9","8","7","6","5","4","3","2"),r=0;for(e=e.substr(0,6)+"19"+e.substr(6,e.length-6),t=0;t<17;t++)r+=e.substr(t,1)*i[t];return e+=n[r%11]}return e},E=function(e){var t=/(^\d{15}$)|(^\d{17}(\d|X)$)/;return t.test(e)!==!1};n=function(e){return"[object Object]"===Object.prototype.toString.call(e)},i=function(e,t){var i;for(i in e)if(e.hasOwnProperty(i)){if(n(e[i])&&n(t[i])&&arguments.callee(e[i],t[i]),t.hasOwnProperty(i))continue;t[i]=e[i]}},t.prototype={isNumeric:function(e){return!!r.test(e)},isInteger:function(e){return!!o.test(e)},isYzbm:function(e){return!!u.test(e)},isZjhm:function(e){return!!c.test(e)},isDecimal:function(e){return!!a.test(e)},isMoney:function(e){return!!p.test(e)},isEmail:function(e){return!!m.test(e)},isAlpha:function(e){return!!f.test(e)},isAlphaNumeric:function(e){return!!h.test(e)},isAlphaDash:function(e){return!!g.test(e)},isNatural:function(e){return!!y.test(e)},isChinese:function(e){return!!v.test(e)},isPhoneNum:function(e){return!!b.test(e)},isTelNum:function(e){return!!x.test(e)},isSfzhm:function(e){return!!M(e)&&!!E(e)},isNoSpecialChar:function(e){return!!w.test(e)},isUrl:function(e){return!!T.test(e)},isOrganizationCode:function(e){return!!d.test(e)},isUserName:function(e){return!!s.test(e)},isPwd:function(e){return!!(O.test(e)&&e.length>7&&e.length<=16)},isAlphaAndNum:function(e){return!!_.test(e)},isNsrsbh:function(e){return!!l.test(e)}},"function"==typeof define&&define.amd?define(function(){return t}):function(){window.Validator=t}()}(window),function(e){function t(){}var i,n;return n=function(e){return"[object Object]"===Object.prototype.toString.call(e)},i=function r(e,t){var i;for(i in e)if(e.hasOwnProperty(i)){if(n(e[i])&&n(t[i])&&r(e[i],t[i]),t.hasOwnProperty(i))continue;t[i]=e[i]}},t.prototype={constructor:t,browser:function(e){var t={},i=e.match(/WebKit\/([\d.]+)/),n=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),r=e.match(/MSIE\s([\d\.]+)/)||e.match(/(?:trident)(?:.*rv:([\w.]+))?/i),o=e.match(/Firefox\/([\d.]+)/),a=e.match(/Safari\/([\d.]+)/),s=e.match(/OPR\/([\d.]+)/);return i&&(t.webkit=parseFloat(i[1])),n&&(t.chrome=parseFloat(n[1])),r&&(t.ie=parseFloat(r[1])),o&&(t.firefox=parseFloat(o[1])),a&&(t.safari=parseFloat(a[1])),s&&(t.opera=parseFloat(s[1])),t}(navigator.userAgent),os:function(e){var t={},i=e.match(/(?:Android);?[\s\/]+([\d.]+)?/),n=e.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return i&&(t.android=parseFloat(i[1])),n&&(t.ios=parseFloat(n[1].replace(/_/g,"."))),t}(navigator.userAgent),isSupportTransition:function(){var e=document.createElement("p").style,t="transition"in e||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"OTransition"in e;return e=null,t},isIE:function(){return!!(window.ActiveXObject||"ActiveXObject"in window)},flashVersion:function(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(i){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1],10)},isSupportBase64:function(){var e=new Image,t=!0;return e.onload=e.onerror=function(){1==this.width&&1==this.height||(t=!1)},e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",t},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},extend:function(){var e,t=arguments,r={};if(!t.length)return{};for(e=t.length-1;e>=0;e--)n(t[e])&&i(t[e],r);return t[0]=r,r},getUrlParamByName:function(e){var t=location.href.split("?");if(1==t.length)return null;for(var i=t[1].split("&"),n=null,r=0;r<i.length;r++){var o=i[r].split("=");if(o[0]==e){n=o[1];break}}return n}},"function"!=typeof define?(window.Tools=new t,t):void define("Tools",[],function(){return new t})}(window),!function(e){function t(e,t){this.opt=this.extend({},this.defaultCfg,t),this.$element=document.getElementById(e),this.el=e,this.init(),this.bind()}var i,n,r;n=function(e){return"[object Object]"===Object.prototype.toString.call(e)},i=function(e,t){var i;for(i in e)if(e.hasOwnProperty(i)){if(n(e[i])&&n(t[i])&&arguments.callee(e[i],t[i]),t.hasOwnProperty(i))continue;t[i]=e[i]}},r=function(e,t){var i=t.parentNode;i.lastChild==t?i.appendChild(e):i.insertBefore(e,t.nextSibling)},t.prototype={constructor:t,defaultCfg:{len:4,chars:[1,2,3,4,5,6,7,8,9,0,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],messageBtnValue:"短信验证码",api:"/JPEGServlet",el:"verificationCode-image",telNum:"",telErrInfo:"请输入正确的手机号",sendMessageApi:"api/",sendMsgData:{},countTime:60,inputArea:"",click2refresh:!0,validateEven:""},extend:function(){var e,t=arguments,r={};if(!t.length)return{};for(e=t.length-1;e>=0;e--)n(t[e])&&i(t[e],r);return t[0]=r,r},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},append:function(e,t){return e.innerHTML+=t,e},children:function(e,t){var i=e.childNodes,n=[];if(/MSIE(6|7|8)/.test(navigator.userAgent))for(var r=0;r<i.length;r++){var o=i[r];1===o.nodeType&&(n[n.length]=o)}else n=Array.prototype.slice.call(e.children);if("string"==typeof t)for(var a=0;a<n.length;a++)curTag=n[a],curTag.nodeName.toLowerCase()!==t.toLowerCase()&&(n.splice(a,1),a--);return n},init:function(){this.el===this.defaultCfg.el?this.append(this.$element,'<input type="text"/><img src="'+this.opt.api+'" alt="图形验证码"/>'):this.append(this.$element,'<input type="text"/><button type="button">'+this.opt.messageBtnValue+"</button>")},bind:function(){var e,t=this;e=t.el===t.defaultCfg.el?"img":"button",t.opt.click2refresh&&t.bindHandler(t.children(t.$element,e)[0],"click",function(){t.el===t.defaultCfg.el?t.refresh():t.sendMessageCode()})},bindHandler:function(e,t,i){window.addEventListener?e.addEventListener(t,i,!1):window.attachEvent&&e.attachEvent("on"+t,i)},refresh:function(){this.children(this.$element,"img")[0].setAttribute("src",this.opt.api+"?"+Math.random())},sendMessageCode:function(){var e=this.children(this.$element,"input")[0],t=/^1[34578]\d{9}$/;if(t.test(e.value))"BUTTON"!=e.nextSibling.nodeName&&e.nextSibling.remove(),e.style.borderColor="",this.timeCountDown(this.children(this.$element,"button")[0],this.opt.countTime),this.sendMsg();else if("SPAN"!=e.nextSibling.nodeName){var i=document.createElement("span"),n=document.createTextNode(this.opt.telErrInfo);i.appendChild(n),i.style.color="red",r(i,e),e.style.borderColor="red"}},sendMsg:function(){reqwest({url:this.opt.api,type:"json",method:"post",contentType:"application/json",success:function(e){},error:function(e){}})},timeCountDown:function(e,t){var i=null,n={timer:function(){i=setTimeout(arguments.callee,1e3),0===t?(clearTimeout(i),e.removeAttribute("disabled"),e.innerHTML="重新发送"):(e.setAttribute("disabled",!0),e.innerHTML="已发送("+t+"s)",t--)}};n.timer()}},"function"==typeof define?define(function(){return{get:function(){new t(arguments[0],arguments[1])}}}):function(){var e={get:function(){new t(arguments[0],arguments[1])}};window.VerificationCode=e}()}(window),function(){for(var e,t=["assert","cd","clear","count","countReset","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","select","table","time","timeEnd","timeStamp","timeline","timelineEnd","trace","warn"],i=t.length,n=window.console=window.console||{},r=function(){};i--;)e=t[i],n[e]||(n[e]=r)}();var regx=/(onload|onclick|onchange|onmousedown|onmouseover|onmouseenter|onmouseouter|onmouseup|javascript:|onmouseout|onkeyup|onkeydown|onkeypress|<script|<\/script)/gi;if(function(e){var t=e.ajax;e.extend({_ajax:t,dataFilter:function(e){if("string"==typeof e)e=e.replace(regx,"").replace(/</g,"&lt;").replace(/>/g,"&gt;");else if("object"==typeof e&&"undefined"!=typeof e&&null!=e)for(var t in e)if(e[t]instanceof Array){for(var i=[],n=0;n<e[t].length;n++)i.push(this.dataFilter(e[t][n]));e[t]=i}else e[t]=this.dataFilter(e[t]);return e},addTimeStamp:function(t){var i=t.split(".").pop(),n=["html","css","js","json","xml","txt"],r="";return r=e.inArray(i,n)>-1?t+"?_t="+(new Date).getTime():t},ajax:function(i,n){return i=e.extend({url:"",type:"POST",data:{},dataType:"json",success:e.noop,failure:e.noop,timeout:1e6,async:!1,showMask:!1,headers:{},contentType:"application/json; charset=UTF-8",maskMassage:"数据加载中，请稍后..."},i),i.error||(i.error=e.noop),i.showMask&&mini.mask({el:n,html:i.maskMassage}),t({url:i.url,type:i.type,dataType:i.dataType,contentType:i.contentType,data:i.data,timeout:i.timeout,cache:!1,async:i.async,headers:i.headers,complete:function(e,t){if(i.complete&&i.complete.call(this,e,t),i.showMask&&mini.unmask(n),"success"==t&&"200"==e.status)if(e.responseJSON)0==e.responseJSON.success?"SESSION_TIME_OUT"==e.responseJSON.messageCode||i.success.call(this,e.responseJSON):i.success.call(this,e.responseJSON);else if(e.responseXML)i.success.call(this,e.responseXML);else{var r=/"success"[ ]?:[ ]?false/g;if(r.test(e.responseText)){var o;try{o=mini?mini.decode(e.responseText):jQuery.parseJSON(e.responseText)}catch(a){o=e.responseText}"SESSION_TIME_OUT"==o.messageCode||i.error.call(this,e,t),delete o}else"json"==i.dataType?(o=jQuery.parseJSON(e.responseText),i.success.call(this,o)):"xml"==i.dataType?(o=jQuery.parseXML(e.responseText),i.success.call(this,o)):i.success.call(this,e.responseText)}else"error"==t&&i.error.call(this,e,t)}})}})}(jQuery),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.ajax=t()}(this,function(){function e(e,n,r,o,a,s){s||(s=function(e,i){var n=t(e,i);return mini.alert(n),!1}),$.ajax({type:n,url:r,data:o,async:e,success:function(e){return"ajaxSessionTimeOut"===e.message?void top.location.reload(!0):(i.response=e,void a(e))},error:function(e,i){e.message||(e.message=t(e,i)||"服务异常！"),s(e,i)}})}function t(e,t){var i="";return"error"===t?i=n[e.status]:["timeout","parsererror"].indexOf(t)!==-1&&(i=n[t]),i}var i={},n={404:"错误：404，服务未找到",500:"错误：500，服务出错",502:"系统出现异常，请联系运维人员或稍后重试！",900:"错误：900，session超时",timeout:"错误：timeout，连接超时",parsererror:"错误：parsererror，发送数据异常"};return i.get=function(t,i,n,r){e(!1,"get",t,i,n,r)},i.post=function(t,i,n,r){e(!1,"post",t,i,n,r)},i.asyncGet=function(t,i,n,r){e(!0,"get",t,i,n,r)},i.asyncPost=function(t,i,n,r){e(!0,"post",t,i,n,r)},i}),Tools.browser.ie&&8===Tools.browser.ie){var nativeDate=Date;Date=function(o){if(1===arguments.length&&"string"==typeof o)return/^\d{4}-\d{2}-\d{2}$/.test(o)&&(o=o.replace(/-/g,"/")),new nativeDate(o);if(arguments.length>1){for(var t=[],j=0;j<arguments.length;j++)t.push(arguments[j]);o=t.join(",")}return eval("new nativeDate("+(o||"")+")")},Date.prototype=nativeDate.prototype}Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in t)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return e},Date.prototype.getFirstDateOfMonth=function(e){var t=this.getFullYear(),i=this.getMonth();return e?new Date(t,i,1).format(e):new Date(t,i,1)},Date.prototype.getLastDateOfMonth=function(e){var t=this.getFullYear(),i=this.getMonth()+1;return e?new Date(t,i,0).format(e):new Date(t,i,0)},Date.prototype.getFirstDateOfNextMonth=function(e){return e?new Date(this.getLastDateOfMonth().getTime()+864e5).format(e):new Date(this.getLastDateOfMonth().getTime()+864e5)},Date.prototype.getLastDateOfNextMonth=function(e){return e?this.getFirstDateOfNextMonth().getLastDateOfMonth(e):this.getFirstDateOfNextMonth().getLastDateOfMonth()},Date.prototype.getFirstDateOfPrevMonth=function(e){return e?new Date(this.getFirstDateOfMonth().getTime()-864e5).getFirstDateOfMonth(e):new Date(this.getLastDateOfMonth().getTime()+864e5)},Date.prototype.getLastDateOfPrevMonth=function(e){return e?new Date(this.getFirstDateOfMonth().getTime()-864e5).format(e):new Date(this.getFirstDateOfMonth().getTime()-864e5)},Date.prototype.getDatesOfFirstSeason=function(e){var t=this.getFullYear(),i=new Date(t,0,1),n=new Date(t,2,31);return e?[i.format(e),n.format(e)]:[i,n]},Date.prototype.getDatesOfSecondSeason=function(e){var t=this.getFullYear(),i=new Date(t,3,1),n=new Date(t,5,30);return e?[i.format(e),n.format(e)]:[i,n]},Date.prototype.getDatesOfThirdSeason=function(e){var t=this.getFullYear(),i=new Date(t,6,1),n=new Date(t,8,30);return e?[i.format(e),n.format(e)]:[i,n]},Date.prototype.getDatesOfForthSeason=function(e){var t=this.getFullYear(),i=new Date(t,9,1),n=new Date(t,11,31);return e?[i.format(e),n.format(e)]:[i,n]},Date.prototype.earlierThan=function(e){var t,i=this.getTime();return"number"==typeof e?t=new Date(parseInt(e)).getTime():"string"==typeof e?t=new Date(e).getTime():"object"==typeof e&&e instanceof Date&&(t=e.getTime()),i<t},Date.prototype.laterThan=function(e){var t,i=this.getTime();return"number"==typeof e?t=new Date(parseInt(e)).getTime():"string"==typeof e?t=new Date(e).getTime():"object"==typeof e&&e instanceof Date&&(t=e.getTime()),i>t},Date.localDate=null,Date.getLocalDate=function(e){return e?Date.localDate=(new Date).format(e):Date.localDate=new Date,Date.localDate},Date.serverDate=null,Date.getServerDate=function(e,t){var i="/sb/sbcommon_checkCwbbSbqkFromGt3.do";return t&&(i=t),Date.serverDate||$.ajax({url:i,async:!1,type:"GET",data:{}}).success(function(e){Date.serverDate=e}).error(function(){console.log("获取服务器时间失败！")}),e&&(Date.serverDate=Date.serverDate.format(e)),Date.serverDate};var MessageUtil={};MessageUtil.MESSAGE={80483901:"请选中一条记录",80483902:"必须选择一个缴税账号！",80483903:"信息未作修改，不能点击下一步",80483904:"输入数据不完整，{0}",80483905:"数据格式输入不正确，请检查数据，重新填写。",80483906:"请求提交失败，请稍后再试。",80483907:"您未更新上传过附报资料，不能予以提交！",80483908:"您的申请信息提交失败，请稍后提交",80483909:"请求提交失败，错误原因：{0}",80483910:"数据未填写完整，请检查填写的数据是否有遗漏，补充填写必录项。",80483911:"备案已过期，请重新备案",80483912:"已经备案，不能重复备案",80483913:"请输入不小于本月的日期！",80483914:"请输入正确四位数年度！",80483915:"您还有必填项未填，不能进入下一步！",80483916:"数据不正确，请重新输入。",80483917:"有效期起不能大于等于有效期止！请重新修改有效期起止。",80483918:"有效期起不能大于等于有效期止！请重新修改有效期起止。",80483919:"请先填写有效期起！",80483920:"请至少录入一条数据！",80483921:'账户性质为"基本存款账户","预算单位专用存款账户","QFII专用存款账户"或"临时存款账户"时\t银行开户登记证号和发证日期不能为空！',80483922:"查询存款账户账号信息失败，请核实是否存在存款账户账号信息。",80483923:"查询停业信息失败，请确认是否存在停业登记信息，是否已自动复业。",80483924:"复业日期有误，请重新审核并输入",80483925:"查询非正常户信息失败",80483926:"获取税收减免性质信息失败！",80483927:"查询税费种认定信息失败，请稍后再试！",80483928:"获取税收优惠事项失败！",80483929:"请填写减征额度！",80483930:"请填写减征幅度！",80483931:"请填写减征税率！",80483932:"有效期起必须大于2015-07-01日",80483933:"获取扣缴登记信息失败！",80483934:"此纳税人存在扣缴税款资格，不予受理！",80483935:"您有正在办理的任务，请等待工作人员处理完后再操作",80483936:"请填写扣缴税款登记_代扣代缴、代收代缴税款信息。",80483937:"请选择扣缴义务人发生日期",80483938:"输入数据不完整，请输入申请重新发放的的详细信息。",80483939:"遗失，损毁税务证件表输入不正确，请检查！",80483940:"申请重新发放表输入不正确，请检查！",80483941:"查询  税务证件遗失补办 失败",80483942:"停业月份止必须大于等于停业月份起，请重新选择停业月份止。",80483943:"停业期限起需大于当前月",80483944:"数据未填写完整，请检查填写的数据是否有遗漏，补充填写必录项。",80483945:"确定删除选中记录？",80483946:"查询跨区域涉税事项报告信息失败！",80483947:"查询跨区域涉税事项报告申报失败，请稍后再试。",80483948:"金额仅支持数字格式并保留两位小数",80483949:"发生异常信息：{0}",80483950:"该《跨区域涉税事项报告》逾期核销，请到税务机关接受处罚",80483951:"跨区域涉税事项报验登记缴销数据或格式输入不正确，请检查！",80483952:"货物信息发票起始号码不得大于货物信息发票终止号码！",80483953:"劳务信息发票起始号码不得大于劳务信息发票终止号码！",80483954:"货物信息发票终止号码与货物信息发票起始号码之差不等于发票份数，请检查重新填写。",80483955:"货物信息发票终止号码与货物信息发票起始号码之差不等于发票份数，请检查重新填写。",80483956:"当前用户税纳税人状态异常，请联系主管税务机关核实原因。",80483957:"跨区域涉税事项报告数据或格式输入不正确，请检查！",80483958:"数据未填写完整，请检查填写的数据是否有遗漏，补充填写必录项。",80483959:"跨区域涉税事项报告的货物（劳务）信息输入不正确！",80483960:"证明有效期止不得超过证明有效期起180日。请重新选择证明有效期起止时间。",80483961:"货物信息有效期起不得大于货物有效期止！",80483962:"劳务信息有效期起不得大于货物有效期止！",80483963:"货物劳务累计销售额查询失败，请稍后再试。",80483964:"查询应税服务累计销售额失败",80483965:"货物劳务累计销售额的计算时间不得超过12个月，请修改货物劳务累计销售额的计算时间。",80483966:"应税服务累计销售额的计算时间不得超过12个月，请修改应税服务累计销售额的计算时间。",80483967:"选择“C.动漫企业为开发动漫产品提供的应税服务”的有效期止不得晚于2017年12月，请修改有效期止!",80483968:"选择“J.通过卫星提供的语音通话服务、电子数据和信息的传输服务” 的有效期止不得晚于2015年12月,请修改有效期止!",80483969:"有效期止不能小于有效期起！",80483970:"有效期止必须大于等于有效期起+35个月！请修改有效期起止时间。",80483971:"选择的简易征收方式，在页面上已存在，请重新录入！",80483972:"手机验证码错误",80483973:"未选择纳税人类别",80483974:"未选择主营业务类别！",80483975:"未选择一般纳税人资格生效之日",80483976:"纳税人类别未选择！",80483977:"该纳税人税务登记类型不是单位纳税人登记或临时税务登记，不能作为总机构或分支机构，请重新输入！",80483978:"查询总机构纳税人是否为单位或临时纳税人失败或不存在此纳税人！",80483979:"根据《增值税一般纳税人资格认定管理办法》第十二条规定，纳税人一经认定为一般纳税人后，不得转为小规模纳税人。请慎重操作！",80483980:"您已登记为增值税一般纳税人，可按照要求在【发票领用】页面申请办理增值税专用发票手续",80483981:"选择增值税普通发票、机动车销售统一发票、二手车销售统一发票时【单张发票最高开票限额】不能为空","MSG.NOT_FIND":"【配置错误】：消息代码[{0}]不存在。","COMMON.404_ERROR":"错误 404 - 文件或目录未找到。","COMMON.TIMEOUT_FAILED":"连接超时，请刷新后重试。","COMMON.CONNECT_ERROR":"连接失败，请检查网络后重试。","COMMON.500_ERROR":"服务出错，请联系管理员。","COMMON.SAVE_SUCCESS":"保存成功。","COMMON.SAVE_FAILED":"保存失败。原因可能是：{0}。","COMMON.ADD_SUCCESS":"新增成功。","COMMON.ADD_FAILED":"新增失败。原因可能是：{0}。","COMMON.DEL_SUCCESS":"删除成功。","COMMON.DEL_CONFIRM":"是否确定删除选中记录？","COMMON.NODATA_IMPORT":"没有要导出的数据。","COMMON.IMPORT_NOFILE":"请选择导入文件。","COMMON.OPT_SUCCESS":"{0}成功。","COMMON.OPT_FAILED":"{0}条记录操作成功。其中{1}条记录操作失败。<a href='javascript:MessageUtil.toggleDetail()'>点击展开不成功的对象</a><div id='messageDetail' style='display:none;'>{2}</div>","COMMON.OPT_CONFIRM":"是否确定{0}选中记录？","COMMON.OPT_ADD_CONFIRM":"记录新增成功,是否要继续新建？","COMMON.SELECT_OP_ROW":"请选择要{0}的数据。","COMMON.SELECT_1":"请选择一条记录。","COMMON.SELECT_N":"请至少选择1条记录。","COMMON.UNIQUE_FAIL":"{0}不能重复。","COMMON.UNIQUE_CHECK_EXIST":"{0}已经存在。","COMMON.VALIDATE_FAILED":"输入数据有误。","COMMON.DB_CONNECT_ERROR":"数据库连接异常，请联系管理员。","COMMON.DB_ERROR":"数据库异常，请联系管理员。","COMMON.CLASS_NEWINSTANCE_ERROR":"类[{0}]创建错误。","COMMON.CLASS_COVERT_ERROR":"类{0}转换错误，可能是抽象类、数组、基本类型或void。","MODEL.LINE_CHECK_EXISTS":"节点间已经存在连接线。","MODEL.LINE_CHECK_CIRCLE":"连接后将会形成回路。","MODEL.NODE_TO_ITSELF_VAIL":"节点不能指向自己。","COMMON.GET_ENTRY_FAIL":"获取JSON实体出错了。","COMMON.FORMULA_VALID_FAIL":"公式返回的结果值类型可能不符合预期，是否继续？","COMMON.FORMULA_REQ_VALID_FAIL":"公式不能为空。","COMMON.FORMULA_INPUT_FAIL":"公式格式输入错误:{0}","COMMON.FILE_UPLOAD_FAIL":"文件上传出错。","COMMON.477_ERROR":"账号信息不一致，请重新打开。","SJQX.UPDATE_SUCC":"数据权限修改成功。"},MessageUtil._getMessage=function(e,t){t=t||[];var i=MessageUtil.MESSAGE[e];i||(/^[A-Z._]+$/.test(e)?(i=MessageUtil.MESSAGE["MSG.NOT_FIND"],t=[e]):(i=e+"",t=[]));for(var n=0;n<t.length;n++)i=i.replace(["{",n,"}"].join(""),function(){return t[n]});var r=i.split("{");if(r.length>1)for(var n=1;n<r.length;n++){var o=r[n].split("}");o.length>1&&(o[0].indexOf(":")>0&&(o[0]="{"+o[0]+"}"),i=i.replace(["{",o[0],"}"].join(""),function(){return MessageUtil.getMessage(o[0])}))}return i},MessageUtil.getMessage=function(e){var t=$.type(e),i="";if("object"==t){for(var n in e)i+=MessageUtil._getMessage(n,e[n])+"<br/>";i.length>0&&(i=i.substring(0,i.length-5))}else if("array"==t)$.each($.makeArray(e),function(t){for(var n in this)i+=MessageUtil._getMessage(n,this[n])+"<br/>";t==e.length-1&&i.length>0&&(i=i.substring(0,i.length-5))});else try{var r=$.parseJSON(e);i=r&&null!=r?MessageUtil.getMessage(r):MessageUtil._getMessage(e)}catch(o){i=MessageUtil._getMessage(e)}return i},MessageUtil._msg=function(e,t,i,n){var r=MessageUtil.getMessage(e);"confirm"==i?mini.MessageBox.show({minWidth:250,maxWidth:550,title:n||"确认",buttons:["ok","cancel"],message:r,iconCls:"mini-messagebox-question",callback:t}):"confirmCancel"==i?mini.MessageBox.show({minWidth:250,maxWidth:550,title:n||"确认",buttons:["yes","no","cancel"],message:r,iconCls:"mini-messagebox-question",callback:t}):"warn"==i?mini.alert(r,n||"警告",t):"error"==i?mini.showMessageBox({minWidth:250,maxWidth:550,title:n||"错误",buttons:["ok"],message:r,iconCls:"mini-messagebox-error",callback:t}):mini.showMessageBox({minWidth:250,maxWidth:550,title:n||"提示",buttons:["ok"],message:r,iconCls:"mini-messagebox-info",callback:t})},MessageUtil.toggleDetail=function(){$("#messageDetail").toggle()},window._nativeAlert=window.alert,window.nativeAlert=function(e){var t=MessageUtil.getMessage(e);t==MessageUtil.MESSAGE["MSG.NOT_FIND"].replace("{0}",e)&&(t=e),window._nativeAlert(t)},window._nativeConfirm=window.confirm,window.nativeConfirm=function(e,t){var i=MessageUtil.getMessage(e);t(window._nativeConfirm(i)?"ok":"cancel")},window.alert=function(e,t,i){e&&e.constructor==String&&(e.indexOf("Exception")>0||"null"===e)&&(e="服务器暂时无法连接，请稍后再试！"),MessageUtil._msg(e,t,"alert",i)},$(function(){mini.alert=function(e,t,i){alert(e,i,t)}}),window.warning=function(e,t,i){MessageUtil._msg(e,t,"warn",i)},window.error=function(e,t,i){MessageUtil._msg(e,t,"error",i)},window.confirm=function(e,t,i){MessageUtil._msg(e,t,"confirm",i)},window.confirmCancel=function(e,t,i){MessageUtil._msg(e,t,"confirmCancel",i)},win_close=window.close;var window_close=function(){navigator.userAgent.indexOf("Firefox")!=-1||navigator.userAgent.indexOf("Chrome")!=-1?(window.location.href="about:blank",win_close()):(window.opener=null,window.open("","_self"),win_close())};window.close=function(){window_close()};var validator=new Validator;mini.VTypes.telephoneErrorText="3/4位区号-7/8位电话号码，如0123-12345678",mini.VTypes.telephone=function(e){return!e||""===e||validator.isTelNum(e)},mini.VTypes.int_14_digit_2ErrorText="请输入最大14位整数2位小数",mini.VTypes.int_14_digit_2=function(e){return!e||""===e||validator.isMoney(e)},mini.VTypes.int_10ErrorText="请输入不大于9,999,999,999的数！",mini.VTypes.int_10=function(e){if(!e||""===e)return!0;if(parseFloat(e)<=0)return!1;var t=new RegExp("^([0-9]{1,10}$)");return!!t.test(e)},mini.VTypes.specialCharErrorText="不能输入特殊字符",mini.VTypes.specialChar=function(e){return!e||""===e||validator.isNoSpecialChar(e)},mini.VTypes.numericErrorText="请输入数字",mini.VTypes.numeric=function(e){return!e||""===e||validator.isNumeric(e)},mini.VTypes.double12ErrorText="请输入最大12位整数4位小数",mini.VTypes.double12=function(e){if(!e||""===e)return!0;var t=new RegExp("^(([-]?[0-9]{1,12}[.]{1}[0-9]{1,4})$|([-]?[0-9]{1,12})$)");return!(e&&!t.test(e))},mini.VTypes.yzbmErrorText="请输入0～9数字，长度为6位",mini.VTypes.yzbm=function(e){return!e||""===e||validator.isYzbm(e)},mini.VTypes.zjhmErrorText="请输入数字、字母或-，长度不超过20位",mini.VTypes.zjhm=function(e){return!e||""===e||validator.isZjhm(e)},mini.VTypes.sfzjhmErrorText="请输入正确的身份证号码。",mini.VTypes.sfzjhm=function(e){return!e||""===e||validator.isSfzhm(e)},mini.VTypes.zzjgdmErrorText="组织机构代码必须为9位数字字母，字母为半角大写。",mini.VTypes.zzjgdm=function(e){return!e||""===e||validator.isOrganizationCode(e)},mini.VTypes.usernameErrorText="请输入8-16位字符(字母、数字组合)",mini.VTypes.username=function(e){return!e||""===e||validator.isUserName(e)},mini.VTypes.englishAndNum32ErrorText="请输入8-32位字符(字母、数字组合)区分大小写",mini.VTypes.englishAndNum32=function(e){if(!e||""===e)return!0;var t=/^(?=.*?[a-zA-Z])(?=.*?[0-9])[a-zA-Z0-9]{8,32}$/;return!(e&&!t.test(e))},mini.VTypes.passwordErrorText="密码格式不正确",mini.VTypes.password=function(e){return validator.isPwd(e)},mini.VTypes.rePasswordErrorText="两次密码输入不一致",mini.VTypes.rePassword=function(e){var t=mini.get("password");return e===t.value},mini.VTypes.mobilePhoneErrorText="请输入正确的手机号码",mini.VTypes.mobilePhone=function(e){return!e||""===e||validator.isPhoneNum(e)},mini.VTypes.nsrsbhErrorText="请输入正确的纳税人识别号",mini.VTypes.nsrsbh=function(e){return!e||""===e||validator.isNsrsbh(e)},mini.VTypes.isChinese42ErrorText="请输入少于42个汉字",mini.VTypes.isChinese42=function(e){if(!e||""===e)return!0;var t=new RegExp("^[一-龥]+$");return!(t.test(e)&&e.length>42)},mini.VTypes.alphaNumericErrorText="字母、数字或者数字字母组合",mini.VTypes.alphaNumeric=function(e){return!e||""===e||validator.isAlphaNumeric(e)},mini.copyTo(mini.Form.prototype,{getDataAndText:function(e){for(var t=this.getData(e),i=this.getFields(),n=0;n<i.length;n++)"combobox"!=i[n].type&&"treeselect"!=i[n].type||(t[i[n].getId()+"Text"]=i[n].getText());return t}}),mini.Layout&&(mini.Layout.prototype.mini_createRegion=mini.Layout.prototype._createRegion,mini.copyTo(mini.Layout.prototype,{_createRegion:function(e){return e=e||{},e.showSplit||(e.showSplit=!1),e.showHeader||(e.showHeader=!1),this.mini_createRegion(e)}})),mini.DataGrid&&(mini.DataGrid.prototype.mini_OnDrawCell=mini.DataGrid.prototype._OnDrawCell,
mini.DataGrid.prototype.mini_OnCellCommitEdit=mini.DataGrid.prototype._OnCellCommitEdit,mini.DataGrid.prototype.mini_getData=mini.DataGrid.prototype.getData,mini.copyTo(mini.DataGrid.prototype,{width:"100%",height:"auto",showFooter:!1,allowResize:!1,showModified:!1,allowUnselect:!0,enableHotTrack:!1,loadErrorAlert:!1,beginEdit:function(){if(!this.allowCellEdit){var e=this;this._allowLayout=!1,this.findRows(function(t){e.beginEditRow(t)}),this._allowLayout=!0,this.doLayout()}},getData:function(){var e=mini.DataGrid.prototype.mini_getData.apply(this,arguments);return mini.decode(mini.encode(e,"yyyy-MM-dd"))},_tryFocus:function(){},_OnDrawCell:function(){var e=this.mini_OnDrawCell.apply(this,arguments);return this.allowCellEdit&&arguments[1].editor&&(e.cellCls=e.cellCls+" mini-grid-editCell-hotTrack"),e},_OnCellCommitEdit:function(e,t,i,n){var r=this.mini_OnCellCommitEdit.apply(this,arguments);return r.editor.textName&&mini._setMap(r.editor.textName,r.text,e),r}})),mini.ComboBox&&(mini.ComboBox.prototype.mini_set=mini.ComboBox.prototype.set,mini.ComboBox.prototype.mini__createPopup=mini.ComboBox.prototype._createPopup,mini.ComboBox.prototype.miniSetValue=mini.ComboBox.prototype.setValue,mini.ComboBox.prototype.mini_setEnabled=mini.ComboBox.prototype.setEnabled,mini.ComboBox.prototype.mini_setText=mini.ComboBox.prototype.setText,mini.ComboBox.prototype.mini__doEmpty=mini.ComboBox.prototype._doEmpty,mini.copyTo(mini.ComboBox.prototype,{width:"100%",height:32,textField:"MC",valueField:"ID",showClose:!0,allowInput:!0,valueFromSelect:!0,errorMode:"border",emptyText:"-请选择-",set:function(e){this._value=e.value,e.textField||(e.textField="MC"),e.valueField||(e.valueField="ID"),e.nullItemText||(e.nullItemText="-请选择-");var t=e.enabled;delete e.enabled,this.mini_set(e),t===!1&&this.setEnabled(!1)},setText:function(e){mini.ComboBox.prototype.mini_setText.apply(this,arguments),mini.isEquals(this._emptyText,e)&&mini.ComboBox.superclass.setText.call(this,"")},_doEmpty:function(){mini.ComboBox.prototype.mini__doEmpty.apply(this,arguments),""==this.emptyText&&mini._placeholder(this._textEl)},setEnabled:function(e){e?this._emptyText&&(this.setEmptyText(this._emptyText),delete this._emptyText):"undefined"==typeof this._emptyText&&(this._emptyText=this.emptyText,this.setEmptyText("")),mini.ComboBox.prototype.mini_setEnabled.apply(this,arguments),e?$(this.el).parent().addClass("enable").removeClass("disable"):$(this.el).parent().addClass("disable").removeClass("enable")},__OnItemLoad:function(){this.data=this._listbox.data,"undefined"!=typeof this._value?this.setValue(this._value,this.defaultValueTriggerChange):this.setValue(this.value)},__OnItemBeforeLoad:function(e){e.async=!1},_createPopup:function(){this.mini__createPopup(),this._listbox.on("load",this.__OnItemLoad,this),this._listbox.on("beforeload",this.__OnItemBeforeLoad,this)},setValue:function(e,t){this._value=e,this.miniSetValue(e,t)}})),mini.TreeSelect&&(mini.TreeSelect.prototype.mini_setEnabled=mini.TreeSelect.prototype.setEnabled,mini.copyTo(mini.TreeSelect.prototype,{width:"100%",popupWidth:"100%",popupMinWidth:250,popupMaxHeight:300,height:32,showClose:!0,errorMode:"border",emptyText:"-请选择-",setEnabled:function(e){mini.TreeSelect.prototype.mini_setEnabled.apply(this,arguments),e?$(this.el).parent().addClass("enable").removeClass("disable"):$(this.el).parent().addClass("disable").removeClass("enable")}})),mini.Password&&(mini.Password.prototype.mini_setEnabled=mini.Password.prototype.setEnabled,mini.Password.prototype.mini__OnBlur=mini.Password.prototype.__OnBlur,mini.copyTo(mini.Password.prototype,{width:"100%",height:32,errorMode:"border",setEnabled:function(e){mini.Password.prototype.mini_setEnabled.apply(this,arguments),e?$(this.el).parent().addClass("enable").removeClass("disable"):$(this.el).parent().addClass("disable").removeClass("enable")},__OnBlur:function(e){this._textEl.value!=this._valueEl.value&&this.setValue(this._textEl.value),mini.Password.prototype.mini__OnBlur.apply(this,arguments)}})),mini.TextBox&&(mini.TextBox.prototype.mini_setEnabled=mini.TextBox.prototype.setEnabled,mini.TextBox.prototype.mini__OnBlur=mini.TextBox.prototype.__OnBlur,mini.copyTo(mini.TextBox.prototype,{width:"100%",height:32,errorMode:"border",setEnabled:function(e){mini.TextBox.prototype.mini_setEnabled.apply(this,arguments),e?$(this.el).parent().addClass("enable").removeClass("disable"):$(this.el).parent().addClass("disable").removeClass("enable")},__OnBlur:function(e){this._textEl.value!=this._valueEl.value&&this.setValue(this._textEl.value),mini.TextBox.prototype.mini__OnBlur.apply(this,arguments)}})),mini.Splitter&&mini.copyTo(mini.Splitter.prototype,{width:"100%",height:"100%"}),mini.PopupEdit&&mini.copyTo(mini.PopupEdit.prototype,{width:"100%",height:32,errorMode:"border"}),mini.DatePicker&&(mini.DatePicker.prototype.mini_setEnabled=mini.DatePicker.prototype.setEnabled,mini.copyTo(mini.DatePicker.prototype,{width:"100%",height:32,showClose:!1,errorMode:"border",setEnabled:function(e){mini.DatePicker.prototype.mini_setEnabled.apply(this,arguments),e?$(this.el).parent().addClass("enable").removeClass("disable"):$(this.el).parent().addClass("disable").removeClass("enable")}})),mini.MoneyBox&&(mini.MoneyBox.prototype.mini_setEnabled=mini.MoneyBox.prototype.setEnabled,mini.copyTo(mini.MoneyBox.prototype,{width:"100%",height:32,selectOnFocus:!0,errorMode:"border",setEnabled:function(e){mini.MoneyBox.prototype.mini_setEnabled.apply(this,arguments),e?$(this.el).parent().addClass("enable").removeClass("disable"):$(this.el).parent().addClass("disable").removeClass("enable")}})),mini.mask&&(mini__mask=mini.mask,mini.mask=function(e){e=e||{};var t=mini.byId(e);mini.isElement(t)?e={el:t}:"string"==typeof e&&(e={html:e}),e.cls="mini-mask-loading",mini__mask(e),$(".mini-mask-msg").show()}),mini.prompt=function(e,t,i,n){var r,o,a=("prompt$"+(new Date).getTime(),e||mini.MessageBox.promptMessage);jQuery("<div></div>");n?(r=new mini.TextArea,r.setWidth("230"),r.setHeight("70"),o="190"):(r=new mini.TextBox,r.setWidth("230"),o="200",a='<span style="line-height: 28px;">'+a+"：</span><br/>");var s=mini.MessageBox.show({title:t||mini.MessageBox.promptTitle,buttons:["ok","cancel"],width:280,height:o,html:'<div id="pzf" style="overflow:auto;padding:5px;padding-left:10px;">'+a+"</div>",callback:function(e){i&&i(e,r.getValue())}});return r.render(jQuery("#pzf")[0]),r.focus(),s},mini_CellValidator_Prototype.setCellIsValid=function(e,t,i,n){if(e=this.getNode?this.getNode(e):this._getRow(e),t=this.getColumn(t),e&&t){var r=e[this._rowIdField]+"$"+t._id,o=this._getCellEl(e,t),a=this._cellMapErrors[r];delete this._cellMapErrors[r],this._cellErrors.remove(a),i===!0?(t.editor&&!mini.hasClass(o,"mini-grid-cell-validated")&&mini.addClass(o,"mini-grid-cell-validated"),this.getAllowCellEdit()||mini.removeClass(o,"mini-grid-cell-validated"),o&&a&&mini.removeClass(o,"mini-grid-cell-error")):(a={record:e,column:t,isValid:i,errorText:n},this._cellMapErrors[r]=a,this._cellErrors.add(a),o&&mini.addClass(o,"mini-grid-cell-error"))}},mini_CellValidator_Prototype._updateRowEl=function(e){var t=this,i=jQuery(t._createRow(e)),n=t._getRowEl(e);jQuery(n).before(i),jQuery(n).find("td").each(function(){var e=jQuery(this).attr("class"),t=jQuery(this).index();jQuery(this).parent().prev().find("td").eq(t).attr("class",e)}),n.parentNode.removeChild(n)},mini.DataGrid&&mini.copyTo(mini.DataGrid.prototype,mini_CellValidator_Prototype),mini.showTips&&mini.copyTo(mini,{showAt:function(e){jQuery;e=jQuery.extend({el:null,x:"center",y:"center",offset:[0,0],fixed:!1,zindex:mini.getMaxZIndex(),timeout:0,timeoutHandler:null,animation:!1},e);var t=jQuery(e.el)[0],i=e.x,n=e.y,r=e.offset[0],o=e.offset[1],a=e.zindex,s=e.fixed;e.animation;if(t){e.timeout&&setTimeout(function(){e.timeoutHandler&&e.timeoutHandler()},e.timeout);var l=";position:absolute;display:block;left:auto;top:auto;right:auto;bottom:auto;margin:0;z-index:"+a+";";mini.setStyle(t,l);var l="";if(e&&mini.isNumber(e.x)&&mini.isNumber(e.y))return e.fixed&&!mini.isIE6&&(l+=";position:fixed;"),mini.setStyle(t,l),void mini.setXY(e.el,e.x,e.y);if("left"==i)l+="left:"+r+"px;";else if("right"==i)l+="right:"+r+"px;";else{var u=mini.getSize(t);l+="left:50%;margin-left:"+.5*-u.width+"px;"}if("top"==n)l+="top:"+o+"px;";else if("bottom"==n)l+="bottom:"+o+"px;";else{var u=mini.getSize(t);l+="top:50%;margin-top:"+.5*-u.height+"px;"}s&&!mini.isIE6&&(l+="position:fixed"),mini.setStyle(t,l)}}}),mini.DatePicker&&mini.copyTo(mini.Calendar.prototype,{_create:function(){var e='<tr style="width:100%;"><td style="width:100%;"></td></tr>';e+='<tr ><td><div class="mini-calendar-footer"><span style="display:none;"><input name="time" class="mini-timespinner" style="width:80px" format="'+this.timeFormat+'"/><span class="mini-calendar-footerSpace"></span></span><span class="mini-calendar-tadayButton">'+this.todayText+'</span><span class="mini-calendar-footerSpace"></span><span class="mini-calendar-clearButton">'+this.clearText+'</span><span class="mini-calendar-okButton">'+this.okText+'</span><a href="#" class="mini-calendar-focus" style="position:absolute;left:-10px;top:-10px;width:0px;height:0px;outline:none" hideFocus></a></div></td></tr>';var t='<table class="mini-calendar" cellpadding="0" cellspacing="0">'+e+"</table>",i=document.createElement("div");i.innerHTML=t,this.el=i.firstChild;var n=(this.el.getElementsByTagName("tr"),this.el.getElementsByTagName("td"));this._innerEl=n[0],this._footerEl=mini.byClass("mini-calendar-footer",this.el),this.timeWrapEl=this._footerEl.childNodes[0],this.todayButtonEl=this._footerEl.childNodes[1],this.footerSpaceEl=this._footerEl.childNodes[2],this.closeButtonEl=this._footerEl.childNodes[3],this.okButtonEl=this._footerEl.childNodes[4],this._focusEl=this._footerEl.lastChild,this.yesterdayButtonEl=mini.after(this.todayButtonEl,'<span class="mini-calendar-tadayButton yesterday">'+this.yesterdayText+"</span>"),mini.parse(this._footerEl),this.timeSpinner=mini.getbyName("time",this.el),this.doUpdate()},_CreateView:function(e,t,i){var n=e.getMonth(),r=this.getFirstDateOfMonth(e),o=new Date(r.getTime()),a=mini.clearTime(new Date).getTime(),s=(this.value?mini.clearTime(this.value).getTime():-1,this.rows>1||this.columns>1),l="";if(l+='<table class="mini-calendar-view" border="0" cellpadding="0" cellspacing="0">',this.showHeader&&(l+='<tr ><td colSpan="10" class="mini-calendar-header"><div class="mini-calendar-headerInner">',0==t&&0==i&&(l+='<div class="mini-calendar-prev">',this.showYearButtons&&(l+='<span class="mini-calendar-yearPrev"></span>'),this.showMonthButtons&&(l+='<span class="mini-calendar-monthPrev"></span>'),l+="</div>"),0==t&&i==this.columns-1&&(l+='<div class="mini-calendar-next">',this.showMonthButtons&&(l+='<span class="mini-calendar-monthNext"></span>'),this.showYearButtons&&(l+='<span class="mini-calendar-yearNext"></span>'),l+="</div>"),l+='<span class="mini-calendar-title">'+mini.formatDate(e,this.format),l+="</div></td></tr>"),this.showDaysHeader){l+='<tr class="mini-calendar-daysheader"><td class="mini-calendar-space"></td>',this.showWeekNumber&&(l+='<td sclass="mini-calendar-weeknumber"></td>');for(var u=this.firstDayOfWeek,c=u+7;u<c;u++){var d=this.getShortWeek(u);l+='<td yAlign="middle">',l+=d,l+="</td>",r=new Date(r.getFullYear(),r.getMonth(),r.getDate()+1)}l+='<td class="mini-calendar-space"></td></tr>'}r=o;for(var p=0;p<=5;p++){if(l+='<tr class="mini-calendar-days"><td class="mini-calendar-space"></td>',this.showWeekNumber){var m=mini.getWeek(r.getFullYear(),r.getMonth()+1,r.getDate());1==String(m).length&&(m="0"+m),l+='<td class="mini-calendar-weeknumber" yAlign="middle">'+m+"</td>"}for(var u=this.firstDayOfWeek,c=u+7;u<c;u++){var f=this.isWeekend(r),h=mini.clearTime(r).getTime(),g=h==a,y=this.isSelectedDate(r);n!=r.getMonth()&&s&&(h=-1);var v=this._OnDrawDate(r);l+='<td yAlign="middle" id="',l+=this.uid+"$"+h,l+='" class="mini-calendar-date ',f&&(l+=" mini-calendar-weekend "),0==v.allowSelect&&(l+=" mini-calendar-disabled "),n!=r.getMonth()&&s||(y&&(l+=" "+this._selectedDateCls+" "),g&&(l+=" mini-calendar-today ")),n!=r.getMonth()&&(l+=" mini-calendar-othermonth "),v.dateCls&&(l+=" "+v.dateCls),l+='" style="',v.dateStyle&&(l+=v.dateStyle),l+='"><span class="mini-calendar-item">',n!=r.getMonth()&&s||(l+=v.dateHtml),l+="</span></td>",r=new Date(r.getFullYear(),r.getMonth(),r.getDate()+1)}l+='<td class="mini-calendar-space"></td></tr>'}return l+='<tr class="mini-calendar-bottom" colSpan="10"><td ></td></tr>',l+="</table>"}}),mini.Tabs&&mini.copyTo(mini.Tabs.prototype,{resetWizard:function(){var e=this.getTabBodyEl(this.activeIndex).clientHeight+100;1==jQuery("#wizard").length&&jQuery("#wizard").find(".content").height(e)},activeTab:function(e){this.setActiveIndex(e),this.resetWizard()}}),mini.Form&&(mini.Form.prototype.mini_validate=mini.Form.prototype.validate,mini.copyTo(mini.Form.prototype,{validate:function(e,t){var i=mini.Form.prototype.mini_validate.apply(this,arguments);if(i)return i;var n=this.getErrorTexts();if(n.length>0){for(var r="",o=0;o<n.length;o++)r+=n[o]+"<br/>";mini.alert(r)}return!1}})),mini.VTypes&&(mini.VTypes.rangeChar=function(e,t){function i(e){var t=/[^\x00-\xff]/gi;return null!=e.match(t)}if(mini.isNull(e)||""===e)return!0;var n=parseFloat(t[0]),r=parseFloat(t[1]);if(isNaN(n)||isNaN(r))return!0;for(var o=0,a=String(e).split(""),s=0,l=a.length;s<l;s++)o+=i(a[s])?3:1;return n<=o&&o<=r});var moneyUtil=function(){var e=function(e){var t,i,n,e=new String(Math.round(100*e)),r="",o="零壹贰叁肆伍陆柒捌玖",a="万仟佰拾亿仟佰拾万仟佰拾元角分",s=e.length,l=0;if(s>15)return alert("超出计算范围"),"";if(0==e)return r="零元整";a=a.substr(a.length-s,s);for(var u=0;u<s;u++)n=parseInt(e.substr(u,1),10),u!=s-3&&u!=s-7&&u!=s-11&&u!=s-15?0==n?(t="",i="",l+=1):0!=n&&0!=l?(t="零"+o.substr(n,1),i=a.substr(u,1),l=0):(t=o.substr(n,1),i=a.substr(u,1),l=0):(0!=n&&0!=l?(t="零"+o.substr(n,1),i=a.substr(u,1),l=0):0!=n&&0==l?(t=o.substr(n,1),i=a.substr(u,1),l=0):0==n&&l>=3?(t="",i="",l+=1):(t="",i=a.substr(u,1),l+=1),u!=s-11&&u!=s-3||(i=a.substr(u,1))),r=r+t+i;return 0==n&&(r+="整"),r},t=function(e,t){var i,n,r,o,a;if(i=e<0?-e:e,n=(parseInt(i*Math.pow(10,t)+.5)/Math.pow(10,t)).toString(),r=n.indexOf("."),r<0&&t>0)for(n+=".",o=0;o<t;o++)n+="0";else for(r=n.length-r,a=0;a<t-r+1;a++)n+="0";return e<0?Number(t)>0?"-"+n:-n:n};return{arabicToChinese:function(){return e.apply(this,arguments)},toFixed:function(e,i){return t(e,i)}}}();Number.prototype.toFixed=function(e){var t=moneyUtil.toFixed(this,e+4);return moneyUtil.toFixed(Number(t),e)},function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.nsrxxUtil=t()}(this,function(){var e={};return e.getUserInfo=function(e){var t=mini.decode(store.getSession("getUserInfo"));return e!==!0&&t||ajax.post("../../../api/base/userInfo/get",{},function(e){return e.success&&e.value?(t=e.value,void store.setSession("getUserInfo",t)):(mini.alert(e.message),!1)}),t},e.getNsrInfo=function(){var t=e.getUserInfo();return t&&t.NsrInfo?t.NsrInfo:null},e.getAccountInfo=function(){var t=e.getUserInfo();return t&&t.AccountInfo?t.AccountInfo:null},e.getNsrxxVO=function(t){var i=e.getUserInfo(),n=mini.decode(store.getSession("NsrjbxxVO")),r=function(){var e=null,n=t?t:"../../../api/base/nsrxx/get";return ajax.post(n,{},function(t){return t.success&&t.value?(e=t.value,void store.setSession("NsrjbxxVO",mini.encode(e))):(i.NsrInfo&&mini.alert("获取纳税人信息失败，请稍后再试"),!1)}),e};if(i){if(n){if(!i.NsrInfo)return n=null,!1;n.djxh!=i.NsrInfo.djxh&&(n=r())}else n=r();return n}return!1},e});